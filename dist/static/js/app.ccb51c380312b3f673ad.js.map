{"version":3,"sources":["webpack:///src/App.vue","webpack:///./src/App.vue?78bf","webpack:///./src/App.vue","webpack:///./src/components/TitleBar.vue?bbc5","webpack:///./src/components/TitleBar.vue","webpack:///src/components/TitleBar.vue","webpack:///./src/components/ContentView.vue?93c9","webpack:///./src/components/ContentView.vue","webpack:///./src/config/CONST.js","webpack:///src/components/MenuBar.vue","webpack:///src/components/ContentView.vue","webpack:///./src/components/MenuBar.vue?6a84","webpack:///./src/components/MenuBar.vue","webpack:///src/EBook.vue","webpack:///./src/EBook.vue?0985","webpack:///./src/EBook.vue","webpack:///src/Bookshelf.vue","webpack:///./src/Bookshelf.vue?a962","webpack:///./src/Bookshelf.vue","webpack:///./src/router/index.js","webpack:///./src/store/index.js","webpack:///./src/main.js"],"names":["document","addEventListener","html","querySelector","fontSize","Math","min","window","innerWidth","style","selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","components_TitleBar","directives","rawName","value","expression","staticClass","_v","src_components_TitleBar","TitleBar_normalizeComponent","computed","isTitleAndMenuShow","$store","state","ssrContext","components_ContentView","_vm","_l","currentNavigation","item","index","key","class","current","href","currentHref","on","click","$event","navigateTo","_s","label","CONST","bookConfig","fontSizeList","themesList","title","body","color","background","MenuBar","components","ContentView","ContentView_normalizeComponent","methods","$emit","isBookAvailable","data","showTag","progress","showSetting","tag","commit","getProcess","hideSetting","setFontSize","setTheme","onProgressChange","e","target","onProgressInput","hideContent","currentFontSize","currentThemeId","isContentShow","isSettingShow","watch","handler","val","$refs","backgroundSize","localStorage","setItem","components_MenuBar","ref","refInFor","_e","length","border","selected","type","max","step","disabled","domProps","change","input","hide-box-shadow","src_components_MenuBar","MenuBar_normalizeComponent","EBook","TitleBar","prevPage","_this","rendition","prev","then","nextPage","_this2","next","showEpub","_this3","currentPath","book","src","renderTo","width","height","innerHeight","currentProcess","loadingInstance","lib_loading_default","a","service","text","display","themes","hooks","registerThemes","ready","navigation","locations","generate","loc","cfiFromPercentage","close","toggleTitleAndMenu","_this4","forEach","theme","register","themeId","select","percentage","location","hideTitleAndMenu","currentLocation","currentPage","percentageFromCfi","start","cfi","round","mounted","getItem","Number","created","that","onkeyup","keyCode","selectortype_template_index_0_src_EBook","arg","src_EBook","EBook_normalizeComponent","Bookshelf","addBook","file","files","fileName","replace","console","log","fileReader","FileReader","onload","$router","push","readAsArrayBuffer","selectortype_template_index_0_src_Bookshelf","accept","_m","alt","src_Bookshelf","Bookshelf_normalizeComponent","Vue","use","Router","router","routes","path","redirect","component","meta","Vuex","mutations","setCurrentThemeId","setCurrentFontSize","setCurrentPath","setCurrentProcess","process","setCurrentHref","setCurrentNavigation","setTitleAndMenuShow","flag","setSettingShow","setContentShow","setBookAvailable","store","Store","config","productionTip","touch","el","App","template","h"],"mappings":"sUAUAA,SAAAC,iBAAA,8BACA,IAAAC,EAAAF,SAAAG,cAAA,QACAC,EAAAC,KAAAC,IAAAC,OAAAC,WAAA,YACAN,EAAAO,MAAAL,WAAA,OCbA,IAGeM,GADEC,OAFP,WAAgB,IAAaC,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiBE,OAAOC,GAAA,SAAYH,EAAA,oBAE7FI,oBCqBjBC,EAvBUC,EAAQ,OAcjCC,EFNAC,KAAA,OEQEb,GATF,EAEA,KAEA,KAEA,MAUgC,oBCpBjBc,GADEb,OAFP,WAAgB,IAAaC,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,cAAwBE,OAAOM,KAAA,gBAAqBR,EAAA,OAAYU,aAAaF,KAAA,OAAAG,QAAA,SAAAC,MAA5Id,KAA4I,mBAAAe,WAAA,uBAA4FC,YAAA,kBAA8Bd,EAAA,OAAYc,YAAA,eAAyBd,EAAA,QAAac,YAAA,qBAAxThB,KAAqViB,GAAA,KAAAf,EAAA,OAA0Bc,YAAA,gBAA0Bd,EAAA,OAAYc,YAAA,iBAA2Bd,EAAA,QAAac,YAAA,qBAA7bhB,KAA0diB,GAAA,KAAAf,EAAA,OAA0Bc,YAAA,iBAA2Bd,EAAA,QAAac,YAAA,uBAA5hBhB,KAA2jBiB,GAAA,KAAAf,EAAA,OAA0Bc,YAAA,iBAA2Bd,EAAA,QAAac,YAAA,4BAEvnBV,oBCChC,IAuBeY,EAvBUV,EAAQ,OAcjBW,ECMhBT,KAAA,WACAU,UACAC,mBADA,WAEA,OAAArB,KAAAsB,OAAAC,MAAAF,sBDPEV,GAT6B,EAV/B,SAAAa,GACEhB,EAAQ,SAaS,kBAEU,MAUG,QEvBjBiB,GADE3B,OAFP,WAAgB,IAAA4B,EAAA1B,KAAaD,EAAA2B,EAAAzB,eAA0BC,EAAAwB,EAAAvB,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,cAAwBE,OAAOM,KAAA,iBAAsBR,EAAA,OAAYc,YAAA,YAAsBU,EAAA,gBAAAxB,EAAA,OAAkCc,YAAA,mBAA8BU,EAAAC,GAAAD,EAAAE,kBAAA,aAAAC,EAAAC,GAAyD,OAAA5B,EAAA,OAAiB6B,IAAAD,EAAAd,YAAA,eAAAgB,OAA4CC,QAAAJ,EAAAK,OAAAR,EAAAS,aAAyCC,IAAKC,MAAA,SAAAC,GAAyBZ,EAAAa,WAAAV,EAAAK,UAA4BhC,EAAA,QAAac,YAAA,SAAmBU,EAAAT,GAAAS,EAAAc,GAAAX,EAAAY,eAAiCvC,EAAA,OAAac,YAAA,UAAoBU,EAAAT,GAAA,iBAE3gBX,oBCChC,ICiDeoC,GACbC,YApDAC,eACIrD,SAAU,KACVA,SAAU,KACVA,SAAU,KACVA,SAAU,KACVA,SAAU,KACVA,SAAU,KACVA,SAAU,KAEdsD,aAEInC,KAAM,UACNoC,MAAO,KACPlD,OACEmD,MACEC,MAAS,OACTC,WAAc,WAIlBvC,KAAM,MACNoC,MAAO,KACPlD,OACEmD,MACEC,MAAS,OACTC,WAAc,cAIlBvC,KAAM,QACNoC,MAAO,KACPlD,OACEmD,MACEC,MAAS,OACTC,WAAc,WAIlBvC,KAAM,UACNoC,MAAO,KACPlD,OACEmD,MACEC,MAAS,OACTC,WAAc,2BCyBxBC,GACAxC,KAAA,UACAyC,YACAC,YFrEyB5C,EAAQ,OAcjB6C,EGHhB3C,KAAA,eACA4C,SACAf,WAAA,SAAAL,GACAlC,KAAAuD,MAAA,aAAArB,KAGAd,UACAe,YADA,WAEA,OAAAnC,KAAAsB,OAAAC,MAAAY,aAEAqB,gBAJA,WAKA,OAAAxD,KAAAsB,OAAAC,MAAAiC,iBAEA5B,kBAPA,WAQA,OAAA5B,KAAAsB,OAAAC,MAAAK,qBHTEH,GAT6B,EAV/B,SAAoBD,GAClBhB,EAAQ,SAaS,kBAEU,MAUG,SEgDhCiD,KAAA,WACA,OACAC,QAAA,EACAC,SAAA,IAGAL,SACAM,YAAA,SAAAC,GACA7D,KAAA0D,QAAAG,EACA,IAAA7D,KAAA0D,SACA1D,KAAAsB,OAAAwC,OAAA,qBACA9D,KAAAsB,OAAAwC,OAAA,sBAEA9D,KAAAsB,OAAAwC,OAAA,qBAEA9D,KAAA+D,cAEAC,YAAA,WACAhE,KAAAsB,OAAAwC,OAAA,sBAEAG,YAAA,SAAA1E,GACAS,KAAAuD,MAAA,cAAAhE,IAEA2E,SAAA,SAAApC,GACA9B,KAAAuD,MAAA,WAAAzB,IAEAqC,iBAAA,SAAAC,GACApE,KAAAuD,MAAA,mBAAAa,EAAAC,OAAAvD,QAEAwD,gBAAA,SAAAF,GACApE,KAAA2D,SAAAS,EAAAC,OAAAvD,OAEAyD,YAAA,WACAvE,KAAAsB,OAAAwC,OAAA,sBAEAvB,WAAA,SAAAL,GACAlC,KAAAuD,MAAA,aAAArB,IAEA6B,WAAA,WACA/D,KAAAuD,MAAA,gBAGAnC,UACAwB,aADA,WAEA,OAAAF,EAAAC,WAAAC,cAEAC,WAJA,WAKA,OAAAH,EAAAC,WAAAE,YAEA2B,gBAPA,WAQA,OAAAxE,KAAAsB,OAAAC,MAAAiD,iBAEAC,eAVA,WAWA,OAAAzE,KAAAsB,OAAAC,MAAAkD,gBAEApD,mBAbA,WAcA,OAAArB,KAAAsB,OAAAC,MAAAF,oBAEAqD,cAhBA,WAiBA,OAAA1E,KAAAsB,OAAAC,MAAAmD,eAEAC,cAnBA,WAoBA,OAAA3E,KAAAsB,OAAAC,MAAAoD,eAEAnB,gBAtBA,WAuBA,OAAAxD,KAAAsB,OAAAC,MAAAiC,kBAGAoB,OACAjB,UACAkB,QAAA,SAAAC,GACA9E,KAAA+E,MAAApB,SAAA/D,MAAAoF,eAAAF,EAAA,SACAG,aAAAC,QAAA,iBAAAJ,OE/IeK,GADErF,OAFP,WAAgB,IAAA4B,EAAA1B,KAAaD,EAAA2B,EAAAzB,eAA0BC,EAAAwB,EAAAvB,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiBc,YAAA,aAAuBd,EAAA,cAAmBE,OAAOM,KAAA,cAAmBR,EAAA,OAAYU,aAAaF,KAAA,OAAAG,QAAA,SAAAC,MAAAY,EAAA,cAAAX,WAAA,kBAAkFC,YAAA,oBAAgCd,EAAA,OAAYU,aAAaF,KAAA,OAAAG,QAAA,SAAAC,MAAA,GAAAY,EAAAgC,QAAA3C,WAAA,iBAAgFC,YAAA,sBAAkCd,EAAA,OAAYc,YAAA,UAAApB,OAA8BL,SAAAmC,EAAAkB,aAAA,GAAArD,SAAA,QAAkDmC,EAAAT,GAAA,OAAAS,EAAAT,GAAA,KAAAf,EAAA,OAAsCc,YAAA,gBAA2BU,EAAAC,GAAAD,EAAA,sBAAAG,EAAAC,GAAgD,OAAA5B,EAAA,OAAiB6B,IAAAD,EAAAsD,IAAA,WAAAC,UAAA,EAAArE,YAAA,YAAAoB,IAAmEC,MAAA,SAAAC,GAAyBZ,EAAAuC,YAAApC,EAAAtC,cAAiCmC,EAAA8C,iBAAA3C,EAAAtC,SAAAW,EAAA,OAAmDc,YAAA,UAAoBd,EAAA,OAAYc,YAAA,kBAA0BU,EAAA4D,UAAe5D,EAAAT,GAAA,KAAAf,EAAA,OAAyBc,YAAA,UAAApB,OAA8BL,SAAAmC,EAAAkB,aAAAlB,EAAAkB,aAAA2C,OAAA,GAAAhG,SAAA,QAAyEmC,EAAAT,GAAA,SAAAS,EAAAT,GAAA,KAAAf,EAAA,OAAwCU,aAAaF,KAAA,OAAAG,QAAA,SAAAC,MAAA,GAAAY,EAAAgC,QAAA3C,WAAA,iBAAgFC,YAAA,iBAA8BU,EAAAC,GAAAD,EAAA,oBAAAG,EAAAC,GAA8C,OAAA5B,EAAA,OAAiB6B,IAAAD,EAAAd,YAAA,qBAAAoB,IAA+CC,MAAA,SAAAC,GAAyBZ,EAAAwC,SAAApC,OAAsB5B,EAAA,OAAYc,YAAA,UAAAgB,OAA6BwD,OAAA,SAAA3D,EAAAjC,MAAAmD,KAAAE,YAAgDrD,OAASqD,WAAApB,EAAAjC,MAAAmD,KAAAE,cAA2CvB,EAAAT,GAAA,KAAAf,EAAA,OAAwBc,YAAA,OAAAgB,OAA0ByD,SAAA3D,IAAAJ,EAAA+C,kBAA4C/C,EAAAT,GAAAS,EAAAc,GAAAX,EAAAiB,eAAiCpB,EAAAT,GAAA,KAAAf,EAAA,OAAyBU,aAAaF,KAAA,OAAAG,QAAA,SAAAC,MAAA,GAAAY,EAAAgC,QAAA3C,WAAA,iBAAgFC,YAAA,qBAAiCd,EAAA,OAAYc,YAAA,qBAA+Bd,EAAA,SAAckF,IAAA,WAAApE,YAAA,WAAAZ,OAA6CsF,KAAA,QAAAC,IAAA,MAAAlG,IAAA,IAAAmG,KAAA,MAAAC,UAAAnE,EAAA8B,iBAAkFsC,UAAWhF,MAAAY,EAAAiC,UAAqBvB,IAAK2D,OAAArE,EAAAyC,iBAAA6B,MAAAtE,EAAA4C,qBAA2D5C,EAAAT,GAAA,KAAAf,EAAA,OAA0Bc,YAAA,iBAA2Bd,EAAA,QAAAwB,EAAAT,GAAAS,EAAAc,GAAAd,EAAA8B,gBAAA9B,EAAAiC,SAAA,yBAAAjC,EAAAT,GAAA,KAAAf,EAAA,cAAwHE,OAAOM,KAAA,cAAmBR,EAAA,OAAYU,aAAaF,KAAA,OAAAG,QAAA,SAAAC,MAAAY,EAAA,mBAAAX,WAAA,uBAA4FC,YAAA,eAAAgB,OAAoCiE,kBAAAvE,EAAAiD,gBAAAjD,EAAAL,sBAAiEnB,EAAA,OAAYc,YAAA,iBAA2Bd,EAAA,QAAac,YAAA,iBAAAoB,IAAiCC,MAAA,SAAAC,GAAyBZ,EAAAkC,YAAA,SAAqBlC,EAAAT,GAAA,KAAAf,EAAA,OAA0Bc,YAAA,iBAA2Bd,EAAA,QAAac,YAAA,qBAAAoB,IAAqCC,MAAA,SAAAC,GAAyBZ,EAAAkC,YAAA,SAAqBlC,EAAAT,GAAA,KAAAf,EAAA,OAA0Bc,YAAA,iBAA2Bd,EAAA,QAAac,YAAA,mBAAAoB,IAAmCC,MAAA,SAAAC,GAAyBZ,EAAAkC,YAAA,SAAqBlC,EAAAT,GAAA,KAAAf,EAAA,OAA0Bc,YAAA,iBAA2Bd,EAAA,QAAac,YAAA,cAAAoB,IAA8BC,MAAA,SAAAC,GAAyBZ,EAAAkC,YAAA,OAAqBlC,EAAAT,GAAA,aAAAS,EAAAT,GAAA,KAAAS,EAAA,cAAAxB,EAAA,gBAAyEkC,IAAIG,WAAAb,EAAAa,cAA6Bb,EAAA4D,KAAA5D,EAAAT,GAAA,KAAAf,EAAA,cAAwCE,OAAOM,KAAA,UAAegB,EAAA,cAAAxB,EAAA,OAAgCc,YAAA,eAAAoB,IAA+BC,MAAAX,EAAA6C,eAAyB7C,EAAA4D,QAAA,IAEhtGhF,oBCChC,IAuBe4F,EAvBU1F,EAAQ,OAcjB2F,CACdjD,EACAiC,GAT6B,EAV/B,SAAoB3D,GAClBhB,EAAQ,SAaS,kBAEU,MAUG,oBCDhC4F,GACAjD,YACAkD,SAAAnF,EACAgC,QAAAgD,GAEAzC,KAAA,WACA,UAGAH,SACAgD,SAAA,eAAAC,EAAAvG,KACAA,KAAAwG,WACAxG,KAAAwG,UAAAC,OAAAC,KAAA,WACAH,EAAAxC,gBAIA4C,SAAA,eAAAC,EAAA5G,KACAA,KAAAwG,WACAxG,KAAAwG,UAAAK,OAAAH,KAAA,WACAE,EAAA7C,gBAKA+C,SAAA,eAAAC,EAAA/G,KACAA,KAAAsB,OAAAC,MAAAyF,cAIAhH,KAAAiH,KAAA,IAAAC,EAAA,EAAAlH,KAAAsB,OAAAC,MAAAyF,aAEAhH,KAAAwG,UAAAxG,KAAAiH,KAAAE,SAAA,QACAC,MAAA1H,OAAAC,WACA0H,OAAA3H,OAAA4H,cAGAtH,KAAAsB,OAAAC,MAAAgG,eAAA,EACAvH,KAAAwH,gBAAAC,EAAAC,EAAAC,SACAC,KAAA,UAGA5H,KAAAwG,UAAAqB,UAGA7H,KAAA8H,OAAA9H,KAAAwG,UAAAsB,OAEA9H,KAAA+H,MAAA/H,KAAAwG,UAAAuB,MAEA/H,KAAAiE,YAAAjE,KAAAsB,OAAAC,MAAAiD,iBAGAxE,KAAAgI,iBACAhI,KAAAkE,SAAAlE,KAAAsB,OAAAC,MAAAkD,gBAGAzE,KAAAiH,KAAAgB,MAAAvB,KAAA,WAEA,OADAK,EAAAzF,OAAAwC,OAAA,uBAAAiD,EAAAE,KAAAiB,YACAnB,EAAAE,KAAAkB,UAAAC,aACA1B,KAAA,WAGA,GAFAK,EAAAoB,UAAApB,EAAAE,KAAAkB,UACApB,EAAAzF,OAAAwC,OAAA,uBACAiD,EAAAzF,OAAAC,MAAAgG,eAAA,GACA,IAAAc,EAAAtB,EAAAoB,UAAAG,kBAAAvB,EAAAzF,OAAAC,MAAAgG,eAAA,KACAR,EAAAP,UAAAqB,QAAAQ,GACAtB,EAAAS,gBAAAe,aAIAC,mBAAA,WACAxI,KAAAsB,OAAAwC,OAAA,uBAAA9D,KAAAsB,OAAAC,MAAAF,oBACArB,KAAAsB,OAAAC,MAAAF,oBACArB,KAAA+E,MAAA7B,QAAAc,eAGAC,YAAA,SAAA1E,GACAS,KAAAsB,OAAAwC,OAAA,qBAAAvE,GACAS,KAAA8H,QACA9H,KAAA8H,OAAAvI,WAAA,OAGAyI,eAAA,eAAAS,EAAAzI,KACM0C,EAANC,WAAAE,WAAA6F,QAAA,SAAAC,GACAF,EAAAX,OAAAc,SAAAD,EAAAjI,KAAAiI,EAAA/I,UAGAsE,SAAA,SAAA2E,GACA7I,KAAAsB,OAAAwC,OAAA,oBAAA+E,GACA7I,KAAA8H,QACA9H,KAAA8H,OAAAgB,OAAApG,EAAAC,WAAAE,WAAAgG,GAAAnI,OAIAyD,iBAAA,SAAAR,GACA,IAAAoF,EAAApF,EAAA,IACAqF,EAAAD,EAAA,EAAA/I,KAAAmI,UAAAG,kBAAAS,GAAA,EACA/I,KAAAwG,UAAAqB,QAAAmB,IAGAzG,WAAA,SAAAL,GACAlC,KAAAwG,UAAAqB,QAAA3F,GACAlC,KAAAiJ,mBACAjJ,KAAA+D,cAEAkF,iBAAA,WAEAjJ,KAAAsB,OAAAwC,OAAA,0BAEA9D,KAAA+E,MAAA7B,QAAAc,cAEAhE,KAAA+E,MAAA7B,QAAAqB,eAGAR,WAAA,WACA,GAAA/D,KAAAsB,OAAAC,MAAAiC,gBAAA,CACA,IAAA0F,EAAAlJ,KAAAwG,UAAA0C,kBACAC,EAAAnJ,KAAAmI,UAAAiB,kBAAAF,EAAAG,MAAAC,KACAtJ,KAAA+E,MAAA7B,QAAAS,SAAAnE,KAAA+J,MAAA,IAAAJ,GAAA,GACAnJ,KAAAsB,OAAAwC,OAAA,iBAAAoF,EAAAG,MAAAnH,SAIAd,YAGAoI,QA7HA,WA8HAvE,aAAAwE,QAAA,mBACAzJ,KAAAsB,OAAAwC,OAAA,oBAAA4F,OAAAzE,aAAAwE,QAAA,oBAEAxE,aAAAwE,QAAA,oBACAzJ,KAAAsB,OAAAwC,OAAA,qBAAA4F,OAAAzE,aAAAwE,QAAA,qBAEAxE,aAAAwE,QAAA,mBACAzJ,KAAAsB,OAAAwC,OAAA,oBAAAmB,aAAAwE,QAAA,mBAKAzJ,KAAA8G,YAEA6C,QA5IA,WA6IA,IAAAC,EAAA5J,KACAb,SAAA0K,QAAA,SAAAzF,GACA,IAAArC,EAAAqC,EAAA0F,QAEA,KAAA/H,GACA6H,EAAAtD,WAGA,KAAAvE,GACA6H,EAAAjD,cC5KeoD,GADEjK,OAFP,WAAgB,IAAA4B,EAAA1B,KAAaD,EAAA2B,EAAAzB,eAA0BC,EAAAwB,EAAAvB,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiBc,YAAA,UAAoBd,EAAA,aAAAwB,EAAAT,GAAA,KAAAf,EAAA,OAAwCkF,IAAA,SAAApE,YAAA,mBAA0Cd,EAAA,OAAYE,OAAOC,GAAA,UAAaqB,EAAAT,GAAA,KAAAf,EAAA,OAAwBU,aAAaF,KAAA,QAAAG,QAAA,eAAAC,MAAAY,EAAA,SAAAX,WAAA,WAAAiJ,IAAA,SAA4FtJ,KAAA,QAAAG,QAAA,gBAAAC,MAAAY,EAAA,SAAAX,WAAA,WAAAiJ,IAAA,UAA4FhJ,YAAA,SAAqBd,EAAA,OAAYc,YAAA,YAAAoB,IAA4BC,MAAAX,EAAA4E,YAAsB5E,EAAAT,GAAA,KAAAf,EAAA,OAAwBc,YAAA,cAAAoB,IAA8BC,MAAAX,EAAA8G,sBAAgC9G,EAAAT,GAAA,KAAAf,EAAA,OAAwBc,YAAA,aAAAoB,IAA6BC,MAAAX,EAAAiF,gBAAsBjF,EAAAT,GAAA,KAAAf,EAAA,YAAiCkF,IAAA,UAAAhD,IAAkB6B,YAAAvC,EAAAuC,YAAAE,iBAAAzC,EAAAyC,iBAAA5B,WAAAb,EAAAa,WAAAwB,WAAArC,EAAAqC,eAA+H,IAEn1BzD,oBCChC,IAuBe2J,EAvBUzJ,EAAQ,OAcjB0J,CACd9D,EACA2D,GAT6B,EAV/B,SAAoBvI,GAClBhB,EAAQ,SAaS,kBAEU,MAUG,QCHhC2J,GACAzJ,KAAA,YACA+C,KAAA,WACA,UAIAH,SACA8G,QAAA,SAAAhG,GACA,IAAAiG,EAAAjG,EAAAC,OAAAiG,MAAA,GACAC,EAAAF,EAAA3J,KAAA8J,QAAA,2BAEApG,EAAAC,OAAAvD,MAAA,GACA2J,QAAAC,IAAAH,GACA,IAAAX,EAAA5J,KACA2K,EAAA,IAAAC,WACAD,EAAAE,OAAA,SAAAzG,GAGAwF,EAAAtI,OAAAwC,OAAA,qCACA8F,EAAAkB,QAAAC,MACArK,KAAA,WAGAiK,EAAAK,kBAAAX,MC5CeY,GADEnL,OAFP,WAAgB,IAAaC,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiBc,YAAA,cAAwBd,EAAA,OAAYc,YAAA,kBAA4Bd,EAAA,OAAYc,YAAA,eAA5JhB,KAAqLiB,GAAA,UAArLjB,KAAqLiB,GAAA,KAAAf,EAAA,OAAyCc,YAAA,iBAA2Bd,EAAA,OAAYc,YAAA,gBAArQhB,KAA+RiB,GAAA,YAA/RjB,KAA+RiB,GAAA,KAAAf,EAAA,SAA6Cc,YAAA,UAAAZ,OAA6BsF,KAAA,OAAAwF,OAAA,SAA+B9I,IAAK2D,OAA7Y/F,KAA6YoK,eAA7YpK,KAAmaiB,GAAA,KAAnajB,KAAmamL,GAAA,MAE7Z7K,iBADb,WAAiB,IAAaP,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiBc,YAAA,sBAAgCd,EAAA,OAAYc,YAAA,SAAmBd,EAAA,OAAYc,YAAA,eAAyBd,EAAA,OAAYE,OAAO8G,IAAA,GAAAkE,IAAA,QAAvMpL,KAA0NiB,GAAA,KAAAf,EAAA,OAA0Bc,YAAA,cAAwBd,EAAA,OAAYc,YAAA,cAAxRhB,KAAgTiB,GAAA,KAAAf,EAAA,OAAwBc,YAAA,uBCE5W,IAuBeqK,EAvBU7K,EAAQ,OAcjB8K,CACdnB,EACAc,GAT6B,EAV/B,SAAoBzJ,GAClBhB,EAAQ,SAaS,kBAEU,MAUG,QCrBhC+K,UAAIC,IAAIC,KAEO,IAAAC,EAAA,IAAID,KACjBE,SAEIC,KAAM,IACNlL,KAAM,IACNmL,SAAU,eAGVD,KAAM,SACNlL,KAAM,QACNoL,UAAW1F,IAGXwF,KAAM,aACNlL,KAAM,YACNoL,UAAW3B,EACX4B,MACEjJ,MAAO,sBCrBfyI,UAAIC,IAAIQ,KAER,IAaMC,GACJC,kBADgB,SACE3K,EAAOlB,GACvBkB,EAAMkD,eAAiBpE,EACvB4E,aAAaC,QAAQ,iBAAkB7E,IAEzC8L,mBALgB,SAKG5K,EAAOhC,GACxBgC,EAAMiD,gBAAkBjF,EACxB0F,aAAaC,QAAQ,kBAAmB3F,IAE1C6M,eATgB,SASD7K,EAAOqK,GACpBrK,EAAMyF,YAAc4E,GAEtBS,kBAZgB,SAYE9K,EAAO+K,GACvB/K,EAAMgG,eAAiB+E,GAEzBC,eAfgB,SAeDhL,EAAOW,GACpBX,EAAMY,YAAcD,GAEtBsK,qBAlBgB,SAkBKjL,EAAOkC,GAC1BlC,EAAMK,kBAAoB6B,GAE5BgJ,oBArBgB,SAqBIlL,EAAOmL,GACzBnL,EAAMF,mBAAqBqL,GAE7BC,eAxBgB,SAwBDpL,EAAOmL,GACpBnL,EAAMoD,cAAgB+H,GAExBE,eA3BgB,SA2BDrL,EAAOmL,GACpBnL,EAAMmD,cAAgBgI,GAExBG,iBA9BgB,SA8BCtL,EAAOmL,GACtBnL,EAAMiC,gBAAkBkJ,IAIbI,EAAA,IAAId,IAAKe,OACtBxL,OAhDAkD,eAAgB,EAChBD,gBAAiB,GACjBwC,YAAa,GACbO,eAAgB,EAChBpF,YAAa,GACbP,qBACAP,oBAAoB,EACpBsD,eAAe,EACfD,eAAe,EACflB,iBAAiB,GAwCjByI,iEC3CFV,UAAIyB,OAAOC,eAAgB,EAE3B1B,UAAIC,IAAJ/D,EAAAC,GACA6D,UAAIC,IAAI0B,KAGR,IAAI3B,WACF4B,GAAI,OACJzB,SACAoB,QACA3J,YAAciK,OACdC,SAAU,SACVvN,OAAQ,SAAAwN,GAAA,OAAKA,EAAEF","file":"static/js/app.ccb51c380312b3f673ad.js","sourcesContent":["<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\ndocument.addEventListener('DOMContentLoaded', () => {\n  const html = document.querySelector('html');\n  let fontSize = Math.min((window.innerWidth / 750) * 100, 75);\n  html.style.fontSize = fontSize + 'px';\n})\n</script>\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-379a86b2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-379a86b2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide-down\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isTitleAndMenuShow),expression:\"isTitleAndMenuShow\"}],staticClass:\"title-wrapper\"},[_c('div',{staticClass:\"title-left\"},[_c('span',{staticClass:\"icon-back icon\"})]),_vm._v(\" \"),_c('div',{staticClass:\"title-right\"},[_c('div',{staticClass:\"icon-wrapper\"},[_c('span',{staticClass:\"icon-cart icon\"})]),_vm._v(\" \"),_c('div',{staticClass:\"icon-wrapper\"},[_c('span',{staticClass:\"icon-person icon\"})]),_vm._v(\" \"),_c('div',{staticClass:\"icon-wrapper\"},[_c('span',{staticClass:\"icon-more icon\"})])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-318689ec\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/TitleBar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-318689ec\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TitleBar.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TitleBar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TitleBar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-318689ec\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./TitleBar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-318689ec\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TitleBar.vue\n// module id = null\n// module chunks = ","<template>\n  <transition name=\"slide-down\">\n    <div class=\"title-wrapper\" v-show=\"isTitleAndMenuShow\">\n      <div class=\"title-left\">\n        <span class=\"icon-back icon\"></span>\n      </div>\n      <div class=\"title-right\">\n        <div class=\"icon-wrapper\">\n          <span class=\"icon-cart icon\"></span>\n        </div>\n        <div class=\"icon-wrapper\">\n          <span class=\"icon-person icon\"></span>\n        </div>\n        <div class=\"icon-wrapper\">\n          <span class=\"icon-more icon\"></span>\n        </div>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\n    export default {\n      name: \"TitleBar\",\n      computed: {\n        isTitleAndMenuShow(){\n          return this.$store.state.isTitleAndMenuShow\n        }\n      }\n    }\n</script>\n<style lang=\"scss\" scoped>\n  @import \"../assets/styles/global\";\n  .title-wrapper {\n    display: flex;\n    position: absolute;\n    left: 0;\n    top: 0;\n    z-index: 100;\n    width: 100%;\n    height: px2rem(96);\n    box-shadow: 0 px2rem(15) px2rem(15) rgba(0, 0, 0, .15);\n    background: #fff;\n    .title-left {\n      flex: 0 0 px2rem(80);\n      @include center;\n    }\n    .title-right {\n      flex: 1;\n      display: flex;\n      justify-content: flex-end;\n      .icon-wrapper {\n        flex: 0 0 px2rem(80);\n        @include center;\n        .icon-cart {\n          font-size: px2rem(44);\n        }\n      }\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/TitleBar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide-right\"}},[_c('div',{staticClass:\"content\"},[(_vm.isBookAvailable)?_c('div',{staticClass:\"content-wrapper\"},_vm._l((_vm.currentNavigation.toc),function(item,index){return _c('div',{key:index,staticClass:\"content-item\",class:{'current': item.href === _vm.currentHref},on:{\"click\":function($event){_vm.navigateTo(item.href)}}},[_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(item.label))])])})):_c('div',{staticClass:\"empty\"},[_vm._v(\"加载中...\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-604d4162\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ContentView.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-604d4162\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ContentView.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ContentView.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ContentView.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-604d4162\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ContentView.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-604d4162\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ContentView.vue\n// module id = null\n// module chunks = ","const bookConfig = {\n  fontSizeList: [\n    { fontSize: 12 },\n    { fontSize: 14 },\n    { fontSize: 16 },\n    { fontSize: 18 },\n    { fontSize: 20 },\n    { fontSize: 22 },\n    { fontSize: 24 },\n  ],\n  themesList: [\n    {\n      name: 'default',\n      title: '默认',\n      style: {\n        body: {\n          'color': '#000',\n          'background': '#fff'\n        }\n      }\n    },{\n      name: 'eye',\n      title: '护眼',\n      style: {\n        body: {\n          'color': '#000',\n          'background': '#ceeaba'\n        }\n      }\n    },{\n      name: 'night',\n      title: '夜晚',\n      style: {\n        body: {\n          'color': '#fff',\n          'background': '#000'\n        }\n      }\n    },{\n      name: 'classic',\n      title: '经典',\n      style: {\n        body: {\n          'color': '#000',\n          'background': 'rgb(241, 236, 226)'\n        }\n      }\n    }\n  ],\n}\n\n\nexport default {\n  bookConfig\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/CONST.js","<template>\n  <div class=\"menu-bar\">\n    <transition name=\"slide-up\">\n      <div class=\"setting-wrapper\" v-show=\"isSettingShow\">\n        <div class=\"setting-font-size\" v-show=\"showTag == 0\">\n          <div class=\"preview\" :style=\"{ fontSize: fontSizeList[0].fontSize + 'px' }\">A</div>\n          <div class=\"font-wrapper\">\n            <div class=\"font-size\" ref=\"fontItem\" v-for=\"(item, index) in fontSizeList\" @click=\"setFontSize(item.fontSize)\" :key=\"index\">\n              <div class=\"point\" v-if=\"currentFontSize == item.fontSize\">\n                <div class=\"small-point\"></div>\n              </div>\n            </div>\n          </div>\n          <div class=\"preview\" :style=\"{ fontSize: fontSizeList[fontSizeList.length-1].fontSize + 'px'}\">A</div>\n        </div>\n        <div class=\"setting-theme\" v-show=\"showTag == 1\">\n          <div class=\"setting-theme-item\" v-for=\"(item, index) in themesList\" :key=\"index\" @click=\"setTheme(index)\">\n            <div class=\"preview\" :style=\"{ background: item.style.body.background }\" :class=\"{'border': item.style.body.background === '#fff'}\"></div>\n            <div class=\"text\" :class=\"{ 'selected': index === currentThemeId }\">{{item.title}}</div>\n          </div>\n        </div>\n        <div class=\"setting-progress\" v-show=\"showTag == 2\">\n          <div class=\"progress-wrapper\">\n            <input class=\"progress\" type=\"range\"\n                   max=\"100\"\n                   min=\"0\"\n                   step=\"0.1\"\n                   @change=\"onProgressChange\"\n                   @input=\"onProgressInput\"\n                   :value=\"progress\"\n                   :disabled=\"!isBookAvailable\"\n                   ref=\"progress\">\n          </div>\n          <div class=\"text-wrapper\">\n            <span>{{ isBookAvailable ? progress + '%' : '加载中...'}}</span>\n          </div>\n        </div>\n      </div>\n    </transition>\n    <transition name=\"slide-up\">\n      <div class=\"menu-wrapper\" v-show=\"isTitleAndMenuShow\" :class=\"{'hide-box-shadow': isSettingShow || !isTitleAndMenuShow}\">\n        <div class=\"icon-wrapper\">\n          <span class=\"icon-menu icon\" @click=\"showSetting(3)\"></span>\n        </div>\n        <div class=\"icon-wrapper\">\n          <span class=\"icon-progress icon\" @click=\"showSetting(2)\"></span>\n        </div>\n        <div class=\"icon-wrapper\">\n          <span class=\"icon-bright icon\" @click=\"showSetting(1)\"></span>\n        </div>\n        <div class=\"icon-wrapper\">\n          <span class=\"icon-a icon\" @click=\"showSetting(0)\">A</span>\n        </div>\n      </div>\n    </transition>\n    <content-view v-if=\"isContentShow\"\n                  @navigateTo=\"navigateTo\"\n    ></content-view>\n    <transition name=\"fade\">\n      <div class=\"content-mask\"\n           v-if=\"isContentShow\"\n           @click=\"hideContent\"\n      ></div>\n    </transition>\n  </div>\n</template>\n<script>\n  import ContentView from '@/components/ContentView'\n  import CONST from '@/config/CONST'\n  export default {\n    name: \"MenuBar\",\n    components: {\n      ContentView\n    },\n    data: function () {\n      return {\n        showTag: 0,\n        progress: 0,\n      }\n    },\n    methods: {\n      showSetting: function (tag) {\n        this.showTag = tag;\n        if(this.showTag === 3){\n          this.$store.commit('setSettingShow', false)\n          this.$store.commit('setContentShow', true);\n        }else {\n          this.$store.commit('setSettingShow', true)\n        }\n        this.getProcess();\n      },\n      hideSetting: function () {\n        this.$store.commit('setSettingShow', false)\n      },\n      setFontSize: function (fontSize) {\n        this.$emit('setFontSize', fontSize);\n      },\n      setTheme: function (index) {\n        this.$emit('setTheme', index);\n      },\n      onProgressChange: function (e) {\n        this.$emit('onProgressChange', e.target.value);\n      },\n      onProgressInput: function (e) {\n        this.progress = e.target.value;\n      },\n      hideContent: function () {\n        this.$store.commit('setContentShow', false);\n      },\n      navigateTo: function (href) {\n        this.$emit('navigateTo', href)\n      },\n      getProcess: function () {\n        this.$emit('getProcess');\n      }\n    },\n    computed: {\n      fontSizeList(){\n        return CONST.bookConfig.fontSizeList\n      },\n      themesList(){\n        return CONST.bookConfig.themesList\n      },\n      currentFontSize(){\n        return this.$store.state.currentFontSize\n      },\n      currentThemeId(){\n        return this.$store.state.currentThemeId\n      },\n      isTitleAndMenuShow(){\n        return this.$store.state.isTitleAndMenuShow\n      },\n      isContentShow(){\n        return this.$store.state.isContentShow\n      },\n      isSettingShow(){\n        return this.$store.state.isSettingShow\n      },\n      isBookAvailable(){\n        return this.$store.state.isBookAvailable\n      }\n    },\n    watch: {\n      progress: {\n        handler: function (val) {\n          this.$refs.progress.style.backgroundSize = `${val}% 100%`;\n          localStorage.setItem(\"defaultProcess\", val)\n        }\n      }\n    }\n  }\n</script>\n<style lang=\"scss\" scoped>\n  @import \"../assets/styles/global\";\n  .menu-bar {\n    .menu-wrapper {\n      display: flex;\n      position: absolute;\n      z-index: 100;\n      left: 0;\n      bottom: 0;\n      width: 100%;\n      height: px2rem(96);\n      box-shadow: 0 px2rem(-15) px2rem(15) rgba(0, 0, 0, .15);\n      background: #fff;\n      &.hide-box-shadow {\n        box-shadow: none;\n      }\n      .icon-wrapper {\n        flex: 1;\n        @include center;\n        .icon-progress {\n          font-size: px2rem(52);\n        }\n        .icon-bright {\n          font-size: px2rem(48);\n        }\n      }\n    }\n    .setting-wrapper {\n      position: absolute;\n      z-index: 100;\n      left: 0;\n      bottom: px2rem(96);\n      width: 100%;\n      height: px2rem(120);\n      background: #fff;\n      box-shadow: 0 px2rem(-15) px2rem(15) rgba(0, 0, 0, .15);\n      .setting-font-size {\n        display: flex;\n        height: 100%;\n        .preview {\n          flex: 0 0 px2rem(120);\n          @include center;\n        }\n        .font-wrapper {\n          display: flex;\n          flex: 1;\n          .font-size {\n            position: relative;\n            flex: 1;\n            &::before {\n              content: '';\n              position: absolute;\n              z-index: 9;\n              left: 50%;\n              top: 50%;\n              width: 1px;\n              height: px2rem(16);\n              margin-top: px2rem(-7);\n              background: #ccc;\n            }\n            &::after {\n              content: '';\n              position: absolute;\n              z-index: 9;\n              left: 0;\n              top: 50%;\n              width: 100%;\n              height: 1px;\n              background: #ccc;\n            }\n            &:first-child,\n            &:last-child{\n              flex: 0.5;\n            }\n            &:first-child::before{\n              left: 0;\n            }\n            &:last-child::before {\n              left: 100%;\n            }\n            .point {\n              position: absolute;\n              z-index: 10;\n              left: 50%;\n              top: 50%;\n              width: px2rem(40);\n              height: px2rem(40);\n              border-radius: 50%;\n              margin-top: px2rem(-20);\n              margin-left: px2rem(-20);\n              border: 1px solid #ccc;\n              box-shadow: 0 px2rem(8) px2rem(8) rgba(0, 0, 0, .15);\n              box-sizing: border-box;\n              background: #fff;\n              @include center;\n              .small-point {\n                width: px2rem(8);\n                height: px2rem(8);\n                border-radius: 50%;\n                background: #333;\n              }\n            }\n            &:first-child {\n              .point {\n                left: 0;\n              }\n            }\n            &:last-child {\n              .point {\n                left: 100%;\n              }\n            }\n          }\n        }\n      }\n      .setting-theme {\n        display: flex;\n        height: 100%;\n        .setting-theme-item {\n          flex: 1;\n          padding: px2rem(20);\n          box-sizing: border-box;\n          .preview {\n            height: px2rem(50);\n            margin-bottom: px2rem(20);\n            &.border {\n              border: 1px solid #ccc;\n            }\n          }\n          .text {\n            font-size: px2rem(26);\n            color: #ccc;\n            text-align: center;\n            &.selected {\n              color: #333;\n            }\n          }\n        }\n      }\n      .setting-progress {\n        position: relative;\n        width: 100%;\n        height: 100%;\n        .progress-wrapper {\n          width: 100%;\n          height: 100%;\n          @include center;\n          padding: 0 px2rem(60);\n          box-sizing: border-box;\n          .progress {\n            width: 100%;\n            -webkit-appearance: none;\n            height: px2rem(4);\n            background: -webkit-linear-gradient(#999, #999) no-repeat, #ddd;\n            background-size: 0 100%;\n            &:focus {\n              outline: none;\n            }\n            &::-webkit-slider-thumb {\n              -webkit-appearance: none;\n              width: px2rem(40);\n              height: px2rem(40);\n              border-radius: 50%;\n              box-shadow: 0 px2rem(8) px2rem(8) 0 rgba(0, 0, 0, .15);\n              border: px2rem(1) solid #ddd;\n              background: #fff;\n            }\n          }\n        }\n        .text-wrapper {\n          position: absolute;\n          left: 0;\n          bottom: px2rem(10);\n          width: 100%;\n          color: #333;\n          font-size: px2rem(24);\n          text-align: center;\n        }\n      }\n    }\n    .content-mask {\n      position: absolute;\n      left: 0;\n      top: 0;\n      z-index: 101;\n      width: 100%;\n      height: 100%;\n      background: rgba(51, 51, 51, .8);\n    }\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MenuBar.vue","<template>\n  <transition name=\"slide-right\">\n    <div class=\"content\">\n      <div class=\"content-wrapper\" v-if=\"isBookAvailable\">\n        <div class=\"content-item\" v-for=\"(item, index) in currentNavigation.toc\" :key=\"index\" @click=\"navigateTo(item.href)\" :class=\"{'current': item.href === currentHref}\">\n          <span class=\"text\">{{ item.label }}</span>\n        </div>\n      </div>\n      <div class=\"empty\" v-else>加载中...</div>\n    </div>\n  </transition>\n</template>\n<script>\n    export default {\n      name: \"content-view\",\n      methods: {\n        navigateTo: function (href) {\n          this.$emit('navigateTo', href)\n        }\n      },\n      computed:{\n        currentHref(){\n          return this.$store.state.currentHref\n        },\n        isBookAvailable(){\n          return this.$store.state.isBookAvailable\n        },\n        currentNavigation(){\n          return this.$store.state.currentNavigation\n        }\n      }\n    }\n</script>\n<style lang=\"scss\" scoped>\n  @import \"../assets/styles/global\";\n  .content {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: px2rem(500);\n    height: 100%;\n    z-index: 102;\n    overflow: scroll;\n    background: #fff;\n    .content-wrapper {\n      padding: px2rem(20) px2rem(60);\n      .content-item {\n        line-height: px2rem(80);\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        font-size: px2rem(24);\n        box-sizing: border-box;\n        text-align: left;\n        color: #666;\n        border-bottom: 1px solid #f6f6f6;\n        &.current {\n          color: #409EFF;\n        }\n        .text {\n          flex: 1;\n          font-size: px2rem(26);\n        }\n      }\n    }\n    .empty {\n      width: 100%;\n      height: 100%;\n      font-size: px2rem(26);\n      @include center;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ContentView.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"menu-bar\"},[_c('transition',{attrs:{\"name\":\"slide-up\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSettingShow),expression:\"isSettingShow\"}],staticClass:\"setting-wrapper\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showTag == 0),expression:\"showTag == 0\"}],staticClass:\"setting-font-size\"},[_c('div',{staticClass:\"preview\",style:({ fontSize: _vm.fontSizeList[0].fontSize + 'px' })},[_vm._v(\"A\")]),_vm._v(\" \"),_c('div',{staticClass:\"font-wrapper\"},_vm._l((_vm.fontSizeList),function(item,index){return _c('div',{key:index,ref:\"fontItem\",refInFor:true,staticClass:\"font-size\",on:{\"click\":function($event){_vm.setFontSize(item.fontSize)}}},[(_vm.currentFontSize == item.fontSize)?_c('div',{staticClass:\"point\"},[_c('div',{staticClass:\"small-point\"})]):_vm._e()])})),_vm._v(\" \"),_c('div',{staticClass:\"preview\",style:({ fontSize: _vm.fontSizeList[_vm.fontSizeList.length-1].fontSize + 'px'})},[_vm._v(\"A\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showTag == 1),expression:\"showTag == 1\"}],staticClass:\"setting-theme\"},_vm._l((_vm.themesList),function(item,index){return _c('div',{key:index,staticClass:\"setting-theme-item\",on:{\"click\":function($event){_vm.setTheme(index)}}},[_c('div',{staticClass:\"preview\",class:{'border': item.style.body.background === '#fff'},style:({ background: item.style.body.background })}),_vm._v(\" \"),_c('div',{staticClass:\"text\",class:{ 'selected': index === _vm.currentThemeId }},[_vm._v(_vm._s(item.title))])])})),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showTag == 2),expression:\"showTag == 2\"}],staticClass:\"setting-progress\"},[_c('div',{staticClass:\"progress-wrapper\"},[_c('input',{ref:\"progress\",staticClass:\"progress\",attrs:{\"type\":\"range\",\"max\":\"100\",\"min\":\"0\",\"step\":\"0.1\",\"disabled\":!_vm.isBookAvailable},domProps:{\"value\":_vm.progress},on:{\"change\":_vm.onProgressChange,\"input\":_vm.onProgressInput}})]),_vm._v(\" \"),_c('div',{staticClass:\"text-wrapper\"},[_c('span',[_vm._v(_vm._s(_vm.isBookAvailable ? _vm.progress + '%' : '加载中...'))])])])])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slide-up\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isTitleAndMenuShow),expression:\"isTitleAndMenuShow\"}],staticClass:\"menu-wrapper\",class:{'hide-box-shadow': _vm.isSettingShow || !_vm.isTitleAndMenuShow}},[_c('div',{staticClass:\"icon-wrapper\"},[_c('span',{staticClass:\"icon-menu icon\",on:{\"click\":function($event){_vm.showSetting(3)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"icon-wrapper\"},[_c('span',{staticClass:\"icon-progress icon\",on:{\"click\":function($event){_vm.showSetting(2)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"icon-wrapper\"},[_c('span',{staticClass:\"icon-bright icon\",on:{\"click\":function($event){_vm.showSetting(1)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"icon-wrapper\"},[_c('span',{staticClass:\"icon-a icon\",on:{\"click\":function($event){_vm.showSetting(0)}}},[_vm._v(\"A\")])])])]),_vm._v(\" \"),(_vm.isContentShow)?_c('content-view',{on:{\"navigateTo\":_vm.navigateTo}}):_vm._e(),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.isContentShow)?_c('div',{staticClass:\"content-mask\",on:{\"click\":_vm.hideContent}}):_vm._e()])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5230c99e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MenuBar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5230c99e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MenuBar.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MenuBar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MenuBar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5230c99e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MenuBar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5230c99e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MenuBar.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"eBook\">\n    <title-bar></title-bar>\n    <div class=\"reader-wrapper\" ref=\"Reader\">\n      <div id=\"read\"></div>\n      <div class=\"mask\" v-touch:left=\"nextPage\" v-touch:right=\"prevPage\">\n        <div class=\"mask-left\" @click=\"prevPage\"></div>\n        <div class=\"mask-center\" @click=\"toggleTitleAndMenu\"></div>\n        <div class=\"mask-right\" @click=\"nextPage\"></div>\n      </div>\n    </div>\n    <menu-bar\n      @setFontSize=\"setFontSize\"\n      @onProgressChange=\"onProgressChange\"\n      @navigateTo=\"navigateTo\"\n      @getProcess=\"getProcess\"\n      ref=\"MenuBar\"></menu-bar>\n  </div>\n</template>\n<script>\n  import TitleBar from '@/components/TitleBar'\n  import MenuBar from '@/components/MenuBar'\n  import { Loading } from 'element-ui'\n  import CONST from '@/config/CONST'\n  import ePub from 'epubjs'\n  export default {\n    components: {\n      TitleBar,\n      MenuBar\n    },\n    data: function() {\n      return {\n      }\n    },\n    methods: {\n      prevPage: function(){\n        if(this.rendition){\n          this.rendition.prev().then(() => {\n            this.getProcess();\n          });\n        }\n      },\n      nextPage: function(){\n        if(this.rendition){\n          this.rendition.next().then(() => {\n            this.getProcess();\n          });\n        }\n      },\n      // 电子书的解析和渲染\n      showEpub: function() {\n        if(!this.$store.state.currentPath) {\n          return ;\n        }\n        // 生成Book对象\n        this.book = new ePub(this.$store.state.currentPath);\n        // 生成Rendition\n        this.rendition = this.book.renderTo('read', {\n          width: window.innerWidth,\n          height: window.innerHeight\n        });\n        // 通过Rendition.display渲染电子书\n        if(this.$store.state.currentProcess > 0){\n          this.loadingInstance = Loading.service({\n            text: '进度读取中'\n          });\n        }else {\n          this.rendition.display();\n        }\n        // 获取Theme对象\n        this.themes = this.rendition.themes;\n        // 获取hooks对象\n        this.hooks = this.rendition.hooks;\n        // 设置默认字体大小\n        this.setFontSize(this.$store.state.currentFontSize);\n        // this.themes.register(name, styles)\n        // this.themes.select(name)\n        this.registerThemes();\n        this.setTheme(this.$store.state.currentThemeId);\n        // 获取locations对象\n        // 通过epubjs的钩子函数来实现\n        this.book.ready.then(() => {\n          this.$store.commit('setCurrentNavigation', this.book.navigation)\n          return this.book.locations.generate();\n        }).then(() => {\n          this.locations = this.book.locations;\n          this.$store.commit('setBookAvailable', true)\n          if(this.$store.state.currentProcess > 0){\n            const loc = this.locations.cfiFromPercentage(this.$store.state.currentProcess / 100);\n            this.rendition.display(loc);\n            this.loadingInstance.close();\n          }\n        });\n      },\n      toggleTitleAndMenu: function () {\n        this.$store.commit('setTitleAndMenuShow', !this.$store.state.isTitleAndMenuShow)\n        if(!this.$store.state.isTitleAndMenuShow){\n          this.$refs.MenuBar.hideSetting();\n        }\n      },\n      setFontSize: function (fontSize) {\n        this.$store.commit('setCurrentFontSize', fontSize)\n        if(this.themes){\n          this.themes.fontSize(fontSize + 'px');\n        }\n      },\n      registerThemes: function () {\n        CONST.bookConfig.themesList.forEach(theme => {\n          this.themes.register(theme.name, theme.style)\n        })\n      },\n      setTheme: function (themeId) {\n        this.$store.commit('setCurrentThemeId', themeId)\n        if(this.themes){\n          this.themes.select(CONST.bookConfig.themesList[themeId].name);\n        }\n      },\n      // progress 进度条的数值 （0-100）\n      onProgressChange: function (progress) {\n        const percentage = progress / 100;\n        const location = percentage > 0 ? this.locations.cfiFromPercentage(percentage) : 0;\n        this.rendition.display(location);\n      },\n      // 根据目录链接跳转到指定位置\n      navigateTo: function (href) {\n        this.rendition.display(href);\n        this.hideTitleAndMenu();\n        this.getProcess();\n      },\n      hideTitleAndMenu: function () {\n        // 隐藏标题栏和菜单栏\n        this.$store.commit('setTitleAndMenuShow', false)\n        // 隐藏菜单栏弹出的设置栏\n        this.$refs.MenuBar.hideSetting();\n        // 隐藏菜单栏弹出的目录\n        this.$refs.MenuBar.hideContent();\n      },\n      // 获取当前进度\n      getProcess: function () {\n        if(this.$store.state.isBookAvailable) {\n          let currentLocation = this.rendition.currentLocation();\n          let currentPage = this.locations.percentageFromCfi(currentLocation.start.cfi);\n          this.$refs.MenuBar.progress = Math.round(currentPage*1000) / 10;\n          this.$store.commit('setCurrentHref', currentLocation.start.href);\n        }\n      }\n    },\n    computed:{\n\n    },\n    mounted() {\n      if(localStorage.getItem(\"currentThemeId\")){\n        this.$store.commit('setCurrentThemeId', Number(localStorage.getItem(\"currentThemeId\")))\n      }\n      if(localStorage.getItem('currentFontSize')){\n        this.$store.commit('setCurrentFontSize', Number(localStorage.getItem('currentFontSize')))\n      }\n      if(localStorage.getItem(\"currentProcess\")) {\n        this.$store.commit('setCurrentProcess', localStorage.getItem(\"currentProcess\"))\n      }\n      // if(localStorage.getItem(\"currentPath\")){\n      //   this.$store.commit('setCurrentPath', JSON.parse(localStorage.getItem(\"currentPath\")))\n      // }\n      this.showEpub();\n    },\n    created() {\n      let that = this;\n      document.onkeyup = function (e) {\n        let key = e.keyCode;\n        // left\n        if(key === 37) {\n          that.prevPage();\n        }\n        // right\n        if(key === 39) {\n          that.nextPage();\n        }\n      }\n    }\n  }\n</script>\n<style lang=\"scss\" scoped>\n@import \"assets/styles/global\";\n.eBook {\n  position: relative;\n  overflow: hidden;\n  box-sizing: border-box;\n  .reader-wrapper {\n    width: 100%;\n    height: 100%;\n    .mask {\n      position: absolute;\n      left: 0;\n      top: 0;\n      z-index: 99;\n      display: flex;\n      width: 100%;\n      height: 100%;\n      .mask-left {\n        flex: 0 0 px2rem(200);\n      }\n      .mask-center {\n        flex: 1;\n      }\n      .mask-right {\n        flex: 0 0 px2rem(200);\n      }\n    }\n  }\n\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/EBook.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"eBook\"},[_c('title-bar'),_vm._v(\" \"),_c('div',{ref:\"Reader\",staticClass:\"reader-wrapper\"},[_c('div',{attrs:{\"id\":\"read\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"touch\",rawName:\"v-touch:left\",value:(_vm.nextPage),expression:\"nextPage\",arg:\"left\"},{name:\"touch\",rawName:\"v-touch:right\",value:(_vm.prevPage),expression:\"prevPage\",arg:\"right\"}],staticClass:\"mask\"},[_c('div',{staticClass:\"mask-left\",on:{\"click\":_vm.prevPage}}),_vm._v(\" \"),_c('div',{staticClass:\"mask-center\",on:{\"click\":_vm.toggleTitleAndMenu}}),_vm._v(\" \"),_c('div',{staticClass:\"mask-right\",on:{\"click\":_vm.nextPage}})])]),_vm._v(\" \"),_c('menu-bar',{ref:\"MenuBar\",on:{\"setFontSize\":_vm.setFontSize,\"onProgressChange\":_vm.onProgressChange,\"navigateTo\":_vm.navigateTo,\"getProcess\":_vm.getProcess}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ebdbd502\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/EBook.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ebdbd502\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./EBook.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./EBook.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./EBook.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ebdbd502\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./EBook.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ebdbd502\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/EBook.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"bookshelf\">\n    <div class=\"title-wrapper\">\n      <div class=\"title-text\">缓存图书</div>\n      <div class=\"title-button\">\n        <div class=\"button-text\">添加本地图书</div>\n        <input type=\"file\" class=\"addBook\" accept=\".epub\" @change=\"addBook\">\n      </div>\n    </div>\n    <div class=\"bookshelf-wrapper\">\n      <div class=\"book\">\n        <div class=\"book-cover\">\n          <img src=\"\" alt=\"\">\n        </div>\n        <div class=\"book-info\">\n          <div class=\"book-name\"></div>\n          <div class=\"book-read\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n    export default {\n      name: \"bookshelf\",\n      data: function () {\n        return {\n\n        }\n      },\n      methods: {\n        addBook: function (e) {\n          let file = e.target.files[0];\n          let fileName = file.name.replace(/(.*\\/)*([^.]+).*/ig,\"$2\");\n          //清空输入框\n          e.target.value = '';\n          console.log(fileName);\n          let that = this;\n          let fileReader = new FileReader();\n          fileReader.onload = function (e) {\n            //console.log(e.target.result\n            //that.$store.commit('setCurrentPath', e.target.result)\n            that.$store.commit('setCurrentPath', './static/看见.epub')\n            that.$router.push({\n              name: 'EBook'\n            })\n          };\n          fileReader.readAsArrayBuffer(file);\n        }\n      }\n    }\n</script>\n<style lang=\"scss\" scoped>\n  @import \"assets/styles/global\";\n  .bookshelf {\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    box-sizing: border-box;\n    padding: 0 px2rem(60);\n    background: #f2f2f2;\n    .title-wrapper {\n      display: flex;\n      padding: px2rem(60) 0 px2rem(30) 0;\n      border-bottom: 1px solid #ccc;\n      justify-content: space-between;\n      .title-text {\n        font-size: px2rem(36);\n        color: #999;\n        line-height: px2rem(50);\n      }\n      .title-button {\n        position: relative;\n        background: #409EFF;\n        padding: 0 px2rem(30);\n        border-radius: px2rem(25);\n        font-size: px2rem(24);\n        color: #fff;\n        line-height: px2rem(50);\n        .addBook {\n          position: absolute;\n          left: 0;\n          top: 0;\n          opacity: 0;\n          width: 100%;\n          height: 100%;\n          border-radius: inherit;\n        }\n\n      }\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/Bookshelf.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bookshelf\"},[_c('div',{staticClass:\"title-wrapper\"},[_c('div',{staticClass:\"title-text\"},[_vm._v(\"缓存图书\")]),_vm._v(\" \"),_c('div',{staticClass:\"title-button\"},[_c('div',{staticClass:\"button-text\"},[_vm._v(\"添加本地图书\")]),_vm._v(\" \"),_c('input',{staticClass:\"addBook\",attrs:{\"type\":\"file\",\"accept\":\".epub\"},on:{\"change\":_vm.addBook}})])]),_vm._v(\" \"),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bookshelf-wrapper\"},[_c('div',{staticClass:\"book\"},[_c('div',{staticClass:\"book-cover\"},[_c('img',{attrs:{\"src\":\"\",\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"book-info\"},[_c('div',{staticClass:\"book-name\"}),_vm._v(\" \"),_c('div',{staticClass:\"book-read\"})])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3496fd1d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/Bookshelf.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3496fd1d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./Bookshelf.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./Bookshelf.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./Bookshelf.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3496fd1d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./Bookshelf.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3496fd1d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Bookshelf.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport EBook from '@/EBook'\nimport Bookshelf from '@/Bookshelf'\n\nVue.use(Router);\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: '/',\n      redirect: '/Bookshelf'\n    },\n    {\n      path: '/EBook',\n      name: 'EBook',\n      component: EBook\n    },\n    {\n      path: '/Bookshelf',\n      name: 'Bookshelf',\n      component: Bookshelf,\n      meta: {\n        title: '书架'\n      }\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex);\n\nconst state = {\n  currentThemeId: 0, //当前主题，统一设置\n  currentFontSize: 16, //当前字体大小，统一设置\n  currentPath: '', //当前书本地址\n  currentProcess: 0, //当前阅读进度\n  currentHref: '', //跳转的位置\n  currentNavigation: {}, //当前目录\n  isTitleAndMenuShow: false, //菜单和顶部是否显示\n  isSettingShow: false, //设置栏是否显示\n  isContentShow: false, //内容区域是否显示\n  isBookAvailable: false, //书籍是否可用\n}\n\nconst mutations = {\n  setCurrentThemeId(state, id){\n    state.currentThemeId = id\n    localStorage.setItem(\"currentThemeId\", id);\n  },\n  setCurrentFontSize(state, fontSize){\n    state.currentFontSize = fontSize\n    localStorage.setItem('currentFontSize', fontSize);\n  },\n  setCurrentPath(state, path){\n    state.currentPath = path\n  },\n  setCurrentProcess(state, process){\n    state.currentProcess = process\n  },\n  setCurrentHref(state, href){\n    state.currentHref = href\n  },\n  setCurrentNavigation(state, data){\n    state.currentNavigation = data\n  },\n  setTitleAndMenuShow(state, flag){\n    state.isTitleAndMenuShow = flag\n  },\n  setSettingShow(state, flag){\n    state.isSettingShow = flag\n  },\n  setContentShow(state, flag){\n    state.isContentShow = flag\n  },\n  setBookAvailable(state, flag){\n    state.isBookAvailable = flag\n  }\n}\n\nexport default new Vuex.Store({\n  state,\n  mutations\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport store from './store'\nimport { Loading } from 'element-ui'\nimport touch from 'vue-directive-touch'\nimport 'element-ui/lib/theme-chalk/index.css'\nimport '@/assets/styles/icon.css'\nimport '@/assets/styles/global.scss'\n\nVue.config.productionTip = false;\n\nVue.use(Loading);\nVue.use(touch);\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: { App },\n  template: '<App/>',\n  render: h => h(App)\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}